type: 'application'

workspace:
  inheritedTasks:
    exclude: ['buildPackage']

fileGroups:
  remix:
    - 'app/**/*'
    - 'public/**/*'
    - 'remix.env.d.ts'
    - 'remix.config.*'

tasks:
  build:
    command: 'remix'
    args: 'build'
    inputs:
      - '@group(remix)'
    outputs:
      - 'build'

  dev:
    command: 'remix'
    args: 'dev'
    inputs:
      - '@group(remix)'
    options:
      runInCI: false

  start:
    command: 'remix-serve'
    args: './build'
    deps:
      - '~:build'
    inputs:
      - '@group(remix)'
    options:
      runInCI: false
